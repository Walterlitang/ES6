<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //浅拷贝是只拷贝一层，更深层次对象级别只拷贝引用
        //深拷贝拷贝多层，每一级别的数据都会拷贝
        var obj={
            id:1,
            name:"andy",
            msg:{
                age:18
            }
        }
        var o={};
        for(var k in obj){
            //k是属性名，obj[k]是属性值
            o[k]=obj[k];//msg也会拷贝到，但拷贝的是地址，所以 obj 中的 msg 改变 o 中的 msg 也会改变
        }
        
        obj.name="dsacas";
        console.log(obj);
        console.log(o);

        //使用 assign 拷贝
        console.log("----------");
        var object={};
        Object.assign(object,obj);
        console.log(object);


        //深拷贝
        var obj1={
            id:1,
            name:"andy",
            array:[1,2,3,4,5,6],
            msg:{
                age:18
            }
        }
        var obj2={};
        function deepCopy(newobj,oldobj){
            for(var k in oldobj){
                //1.判断属性值属于那种数据类型
                var item=oldobj[k];
                //2.判断这个值是否是数组
                if(item instanceof Array){
                    newobj[k]=[];
                    deepCopy(newobj[k],item);
                }
                //3.判断这个值是否是对象
                else if(item instanceof Object){
                    newobj[k]={};
                    deepCopy(newobj[k],item);
                }else{
                    //4.属于简单类型
                    newobj[k]=item;
                }
            }
        }
        deepCopy(obj2,obj1);
        console.log(obj2);
    </script>
</body>
</html>